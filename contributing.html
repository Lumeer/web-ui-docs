<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Lumeer Web UI documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
	      <link rel="stylesheet" href="./styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="./" class="navbar-brand">Lumeer Web UI documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content getting-started">
                   <div class="content-data">

<h1 id="contributing-guide">Contributing Guide</h1>
<p>If you want to contribute to Lumeer, read this document in order to save both your time and the time of the developers who maintain this project.</p>
<h2 id="technologies">Technologies</h2>
<p>The project is written in <a href="https://www.typescriptlang.org/">Typescript</a> and based on <a href="https://angular.io/">Angular</a>.
You can get familiar with this framework many different ways but we recommend you these steps:</p>
<ul>
<li>Read official Angular tutorial <a href="https://angular.io/tutorial">Tour of Heroes</a></li>
<li>Take <a href="https://www.udemy.com/angular-crash-course/">Angular Crash Course</a> on Udemy</li>
</ul>
<p>The state management is ensured by Redux-like library <a href="https://ngrx.github.io/">NgRx</a>.
It is crucial to know the principles this library is based on since it is used heavily throughout the whole application.
You can start with the following sources or read more up-to-date articles on <a href="https://medium.com/search?q=ngrx">Medium</a>:</p>
<ul>
<li><a href="https://blog.nrwl.io/using-ngrx-4-to-manage-state-in-angular-applications-64e7a1f84b7b">Using NgRx 4 to Manage State in Angular Applications</a></li>
<li><a href="https://gist.github.com/btroncone/a6e4347326749f938510">Comprehensive Introduction to @ngrx/store</a></li>
</ul>
<p>Some knowledge of <a href="http://sass-lang.com/">SASS</a> preprocessor and <a href="http://reactivex.io/">RxJS</a> is also highly recommended.</p>
<h2 id="repository">Repository</h2>
<p>Before you start working on this project, you will need to set up your Git repository properly. To do so, follow these steps:</p>
<ol>
<li>If you are not familiar with Git, read at least first 3 chapters of <a href="https://git-scm.com/book/en/v2">this book</a>.</li>
<li>Set up your Git by following <a href="https://help.github.com/articles/set-up-git/">these instructions</a>.</li>
<li>Fork Lumeer engine repository by following <a href="https://help.github.com/articles/fork-a-repo/">this guide</a>.</li>
</ol>
<h2 id="code-style">Code style</h2>
<p>Try to write clean code that is self-explaining and can be easily understood by others.
If you are not good at it, read the following book:</p>
<ul>
<li><a href="https://www.goodreads.com/book/show/3735293-clean-code">Clean Code: A Handbook of Agile Software Craftsmanship</a></li>
</ul>
<p><a href="https://prettier.io/">Prettier</a> and <a href="https://palantir.github.io/tslint/">TSLint</a> are run as a Git pre-commit hook in order to provide uniform code style and check code quality.</p>
<p>Prettier formats the code automatically so you do not need to worry about formatting your code at all.
It is recommended to install Prettier extension for your IDE so the code is formatted every time you save a file.</p>
<p>TSLint checks your code for potential problems and asks you to fix them before committing your changes.</p>
<h3 id="html">HTML</h3>
<p>HTML code is not formatted by Prettier at the moment as it uses different code style.
Try to put every attribute on a new line to make the code more readable.</p>
<p>If you use <a href="https://code.visualstudio.com/">Visual Studio Code</a> with Prettier extension and want to use IDE&#39;s internal formatter for HTML, you need to add the following line to your workspace settings:</p>
<div><pre class="line-numbers"><code class="language-none">&quot;prettier.disableLanguages&quot;: [&quot;angular&quot;, &quot;html&quot;, &quot;vue&quot;],</code></pre></div><h2 id="component-design">Component design</h2>
<p>Although it might seem like an easy task, designing components in a good way is always something between art and rocket science.</p>
<h3 id="size">Size</h3>
<p>Try to avoid large components doing 10 different things and having hundreds of lines of source code.
Such components are hard to maintain and error-prone since every change might introduce various side effects and cause many bugs.</p>
<p>Try to design new components as small as possible.
Basically every visual element should be represented by its own component.</p>
<p>For example, when you need to display a list of items together with other things in your component, it should probably be done in a separate component.
Based on how complicated those items are and what actions you need to do with every one of them, it might also be a good practise to use a new component for displaying a single item.</p>
<h3 id="reusability">Reusability</h3>
<p>Before you create a new component, you should think about other parts of the application where it could potentially be used.
But do not overcomplicate a simple component just because some hypothetical use case in the future.</p>
<p>Try to design clear component interfaces (<code>@Input</code> and <code>@Output</code> properties in Angular) but keep the number of interactions with its surroundings to a minimum.</p>
<h2 id="license">License</h2>
<p>Add the following license header at the beginning of every TypeScript file you add to Lumeer engine repository:</p>
<div><pre class="line-numbers"><code class="language-none">/*
 * Lumeer: Modern Data Definition and Processing Platform
 *
 * Copyright (C) since 2017 Answer Institute, s.r.o. and/or its affiliates.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */</code></pre></div><h2 id="pull-requests">Pull requests</h2>
<p>Look at <a href="https://github.com/Lumeer/engine/wiki/How-To-Contribute#pull-requests">How To Contribute</a> wiki page describing the workflow of creating a pull request to our repositories.</p>
<h2 id="angular">Angular</h2>
<p>Here are some Angular-specific recommendations when working on this project.</p>
<h3 id="localization">Localization</h3>
<p>The application is meant to be accessible in various languages.
Bear this in mind when adding or modifying any visual elements shown to users.</p>
<h4 id="i18n-attribute">i18n Attribute</h4>
<p>If you add a new visual element containing a text shown to a user (including text in attributes such as <code>title</code>), make sure you add <code>i18n</code> in order to enable translation of this text to other languages.</p>
<p>The examples of using <code>i18n</code> attribute:</p>
<div><pre class="line-numbers"><code class="language-angular2html">&lt;button i18n=&quot;&#64;&#64;collection.delete.dialog.button.no&quot;&gt;No&lt;/button&gt;</code></pre></div><div><pre class="line-numbers"><code class="language-angular2html">&lt;a title=&quot;Settings&quot; i18n-title=&quot;&#64;&#64;menu.settings&quot;&gt;...&lt;/a&gt;</code></pre></div><p>Put unique identifier of this text as the value of <code>i18n</code> attribute prefixed by <code>@@</code>.
It needs to be unique across the whole application.
Read <a href="https://angular.io/guide/i18n#mark-text-with-the-i18n-attribute">Angular Internationalization Guide</a> for more details.</p>
<h4 id="icu-message-format">ICU Message Format</h4>
<p>If you need to translate nouns after numbers (which can have multiple forms in different languages) or different text based on some property, use <a href="https://angular.io/guide/i18n#handle-singular-and-plural">ICU Message Format</a>.</p>
<p>In its current version (4.4.4), Angular does not support ICU message format in attributes.
Use <a href="http://chrisgriffing.com/coding/angular/2017/07/22/angular-i18n-icu-messages-attributes/">this workaround</a> to make it work.
You can find <a href="https://github.com/Lumeer/web-ui/blob/24d7fcf79b047ce306adcab84e5811d2f992eee4/src/main/scripts/src/app/core/top-panel/top-panel.component.html#L23-L32">some examples</a> already using this technique in this project.</p>
<h4 id="translation">Translation</h4>
<p>If you add or modify elements with <code>i18n</code>, make sure you run the following command before creating a commit:</p>
<div><pre class="line-numbers"><code class="language-none">$ npm run i18n</code></pre></div><p>It will generate a new version of <code>messages.xlf</code> file in <code>src/i18n</code> folder and merge the changes to the files for other languages (such as <code>messages.cs.xlf</code>).</p>
<p>Preferably, you should also provide a translation to these languages by changing <code>&lt;target&gt;</code> element content as well as removing its <code>state=&quot;new&quot;</code> attribute in each newly added translation unit.
If you do not speak those languages, ask maintainers for a translation when you send a pull-request.</p>
<h3 id="adding-non-angular-npm-packages">Adding Non-Angular NPM packages</h3>
<div><pre class="line-numbers"><code class="language-none">$ npm install &lt;package name&gt; --save</code></pre></div><p>And if possible download the types too.</p>
<div><pre class="line-numbers"><code class="language-none">$ npm install &#64;types/&lt;package name&gt; --save</code></pre></div><p>Then add the package to <code>.angular-cli.json</code> under <code>&quot;scripts&quot;</code> key to include it in Angular CLI compilation:</p>
<div><pre class="line-numbers"><code class="language-none">&quot;scripts&quot;: [
  &quot;../node_modules/&lt;path to module javascript&gt;&quot;
]</code></pre></div><p>Also add the module to <code>vendor.ts</code> for webpack compilation:</p>
<div><pre class="line-numbers"><code class="language-none">import &#39;../node_modules/&lt;path to module javascript&gt;&#39;;</code></pre></div><p>If the module provides any classes for use, declare their types in <code>typings.d.ts</code>:</p>
<div><pre class="line-numbers"><code class="language-none">declare var &lt;class name&gt;: any;</code></pre></div><p>Lastly add it to <code>polyfill.ts</code> if for browser mapping the module to its name:</p>
<div><pre class="line-numbers"><code class="language-none">window[&#39;&lt;class name&gt;&#39;] = require(&#39;../node_modules/&lt;path to module javascript&gt;&#39;);</code></pre></div><p>You need to rebuild the project after the change in order for your package to be included:</p>
<div><pre class="line-numbers"><code class="language-none">npm run-script build</code></pre></div><h3 id="adding-perspectives">Adding Perspectives</h3>
<p>Create a new perspective in <code>view/perspectives/&lt;perspective name&gt;</code> with its own code component and module.
The module needs to provide the perspective component:</p>
<div><pre class="line-numbers"><code class="language-none">declarations: [
  &lt;perspective component&gt;
],
entryComponents: [
  &lt;perspective component&gt;
],
exports: [
  &lt;perspective component&gt;
]</code></pre></div><p>Add the perspective name and icon in the <code>perspective.ts</code> file.
(You can find your icon in icon palette when choosing collection icon, and just copy its name)</p>
<p>In the <code>view-controls.component.html</code> add the perspective to the selection of views in two places:</p>
<div><pre class="line-numbers"><code class="language-none">&lt;span ...&gt;{perspective, select, &lt;your perspective name&gt; {&lt;displayed name&gt;} graph {Graph} ...}&lt;/span&gt;</code></pre></div><p>and few lines below in <code>&lt;ng-container *ngFor=&quot;let perspective of perspectives()&quot;&gt;</code>:</p>
<div><pre class="line-numbers"><code class="language-none">&lt;span ...&gt;{perspective, select, &lt;your perspective name&gt; {&lt;displayed name&gt;} graph {Graph} ...}&lt;/span&gt;</code></pre></div><p>Add it to <code>view-routing.module.ts</code> to map perspective name to it&#39;s component:</p>
<div><pre class="line-numbers"><code class="language-none">{
  path: Perspective.&lt;your perspective name&gt;,
  component: &lt;perspecive component&gt;
},</code></pre></div><p>If your perspective should not be visible at all times (like when it needs a selected collection).
Update <code>canShowPerspective</code> in <code>view-controls.component.ts</code> to reflect this constraint. And add a
<code>isDisplayable()</code> check in your perspective to make sure, users won&#39;t be able to access it using URL.</p>
<h3 id="attribute-binding">Attribute Binding</h3>
<p>Prefer using attributes allowing {{ }} binding, as it is easier to read and
allows writing strings in template style:</p>
<div><pre class="line-numbers"><code class="language-angular2html">[style.width]=&quot;{{ width }}px&quot;
class=&quot;{{ myClass }}&quot;</code></pre></div><p>instead of</p>
<div><pre class="line-numbers"><code class="language-angular2html">[ngStyle]=&quot;{width: width + &#39;px&#39;}&quot;
[ngClass]=&quot;{myClass: true}&quot;</code></pre></div><h3 id="router-link">Router Link</h3>
<p>Prefer using <code>routerLink</code> in Angular input binding way, as it checks for
module dependencies:</p>
<div><pre class="line-numbers"><code class="language-angular2html">[routerLink]=&quot;[&#39;start&#39;, &#39;child&#39;]&quot;</code></pre></div><p>instead of</p>
<div><pre class="line-numbers"><code class="language-angular2html">routerLink=&quot;/start/child&quot;</code></pre></div><h3 id="css-sizes">CSS sizes</h3>
<p>Use exact values (<code>16px</code>, <code>18px</code>, <code>30px</code>) for sizes, instead of
<code>medium</code>, <code>large</code>, <code>x-large</code> to keep the look consistent no matter the
user&#39;s browser font size.</p>
<h3 id="scss-variables">SCSS Variables</h3>
<p>Prefer using SCSS variables, as it keeps the style consistent, readable,
and easy to change:</p>
<div><pre class="line-numbers"><code class="language-scss">color: $brand-success;</code></pre></div><p>instead of</p>
<div><pre class="line-numbers"><code class="language-scss">color: white;</code></pre></div><h3 id="recommended-reading">Recommended reading</h3>
<ul>
<li><a href="https://angular.io/guide/styleguide">Angular Style Guide</a></li>
<li><a href="https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html">Typescript Do&#39;s and Dont&#39;s</a></li>
<li><a href="https://angular.io/tutorial">Angular tutorial</a></li>
<li><a href="https://angular-2-training-book.rangle.io/handout/features/">Typescript features</a></li>
<li><a href="http://sass-lang.com/guide">Sass guide</a></li>
</ul>


















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 0;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'getting-started';
            var COMPODOC_CURRENT_PAGE_URL = 'contributing.html';
       </script>

       <script src="./js/libs/custom-elements.min.js"></script>
       <script src="./js/libs/lit-html.js"></script>
       <script src="./js/menu-wc.js"></script>

       <script src="./js/libs/bootstrap-native.js"></script>

       <script src="./js/libs/es6-shim.min.js"></script>
       <script src="./js/libs/EventDispatcher.js"></script>
       <script src="./js/libs/promise.min.js"></script>
       <script src="./js/libs/zepto.min.js"></script>

       <script src="./js/compodoc.js"></script>

       <script src="./js/tabs.js"></script>
       <script src="./js/menu.js"></script>
       <script src="./js/libs/clipboard.min.js"></script>
       <script src="./js/libs/prism.js"></script>
       <script src="./js/sourceCode.js"></script>
          <script src="./js/search/search.js"></script>
          <script src="./js/search/lunr.min.js"></script>
          <script src="./js/search/search-lunr.js"></script>
          <script src="./js/search/search_index.js"></script>
       <script src="./js/lazy-load-graphs.js"></script>


    </body>
</html>
