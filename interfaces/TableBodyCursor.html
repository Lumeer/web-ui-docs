<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Lumeer Web UI documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Lumeer Web UI documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>TableBodyCursor</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/core/store/tables/table-cursor.ts</code>
        </p>



        <section>
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#columnIndex">columnIndex</a>
                                </li>
                                <li>
                                        <a href="#partIndex">partIndex</a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#rowPath">rowPath</a>
                                </li>
                                <li>
                                        <a href="#tableId">tableId</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="columnIndex"></a>
                                        <span class="name"><b>columnIndex</b><a href="#columnIndex"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>columnIndex:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="partIndex"></a>
                                        <span class="name"><b>partIndex</b><a href="#partIndex"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>partIndex:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="rowPath"></a>
                                        <span class="name"><b>rowPath</b><a href="#rowPath"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>rowPath:     <code>number[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>number[]</code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="tableId"></a>
                                        <span class="name"><b>tableId</b><a href="#tableId"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>tableId:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {Direction} from &#x27;../../../shared/direction&#x27;;
import {arrayStartsWith, deepArrayEquals, getLastFromArray} from &#x27;../../../shared/utils/array.utils&#x27;;
import {TableColumn, TableColumnType, TableCompoundColumn, TableConfigRow, TableModel, TablePart} from &#x27;./table.model&#x27;;
import {
  containCompoundColumn,
  filterLeafColumns,
  findTableColumn,
  findTableColumnByIndex,
  findTableRow,
  getTableColumns,
  isTableRowExpanded,
  splitColumnPath,
  splitRowPath,
} from &#x27;./table.utils&#x27;;

export interface TableHeaderCursor {
  tableId: string;
  partIndex: number;
  columnPath?: number[];
}

export interface TableBodyCursor {
  tableId: string;
  rowPath?: number[];
  partIndex: number;
  columnIndex?: number;
}

export type TableCursor &#x3D; TableHeaderCursor &amp; TableBodyCursor;

export function moveTableCursor(table: TableModel, cursor: TableCursor, direction: Direction): TableCursor {
  switch (direction) {
    case Direction.Up:
      return moveTableCursorUp(table, cursor);
    case Direction.Down:
      return moveTableCursorDown(table, cursor);
    case Direction.Left:
      return moveTableCursorLeft(table, cursor);
    case Direction.Right:
      return moveTableCursorRight(table, cursor);
  }
}

const COLLAPSED_ROWS_INCLUDED &#x3D; true;

function moveTableCursorUp(table: TableModel, cursor: TableCursor): TableCursor {
  if (cursor.columnPath) {
    return moveTableHeaderCursorUp(cursor);
  }

  return moveTableBodyCursorUp(table, cursor);
}

function moveTableBodyCursorUp(table: TableModel, cursor: TableBodyCursor): TableCursor {
  const parentRowPath &#x3D; getPreviousParentRowPath(table.config.rows, cursor.rowPath);
  const parentRow &#x3D; findTableRow(table.config.rows, parentRowPath);

  if (!parentRow) {
    return {
      tableId: cursor.tableId,
      partIndex: cursor.partIndex,
      columnPath: [cursor.columnIndex], // TODO nested attributes
    };
  }

  const {rowPath} &#x3D; findLastLinkedRow(parentRow, parentRowPath, cursor.rowPath.length);
  if (!COLLAPSED_ROWS_INCLUDED || rowPath.length &#x3D;&#x3D;&#x3D; 1 || isTableRowExpanded(table.config.rows, parentRowPath)) {
    return {...cursor, rowPath};
  } else {
    return {...cursor, rowPath: parentRowPath.concat(0)};
  }
}

function getPreviousParentRowPath(rows: TableConfigRow[], rowPath: number[]): number[] {
  if (rowPath.length &#x3D;&#x3D;&#x3D; 0) {
    return null;
  }

  const {parentPath, rowIndex} &#x3D; splitRowPath(rowPath);

  if (rowIndex &gt; 0 &amp;&amp; (!COLLAPSED_ROWS_INCLUDED || isTableRowExpanded(rows, parentPath))) {
    return parentPath.concat(rowIndex - 1);
  }

  return getPreviousParentRowPath(rows, parentPath);
}

function findLastLinkedRow(
  row: TableConfigRow,
  rowPath: number[],
  depth: number
): {row: TableConfigRow; rowPath: number[]} {
  if (rowPath.length &#x3D;&#x3D;&#x3D; depth) {
    return {row, rowPath};
  }

  // if (!COLLAPSED_ROWS_INCLUDED || isTableRowExpanded(table.config.rows, parentRowPath)) {
  // TODO just workaround for not existing rows
  if (!row.linkedRows || row.linkedRows.length &#x3D;&#x3D;&#x3D; 0) {
    const tail &#x3D; Array(depth - rowPath.length).fill(0);
    return {row: null, rowPath: rowPath.concat(tail)};
  }

  const nextRow &#x3D; getLastFromArray(row.linkedRows);
  const nextRowPath &#x3D; rowPath.concat(row.linkedRows.length - 1);
  return findLastLinkedRow(nextRow, nextRowPath, depth);
}

function moveTableHeaderCursorUp(cursor: TableHeaderCursor): TableCursor {
  const {parentPath} &#x3D; splitColumnPath(cursor.columnPath);

  if (parentPath.length &gt; 0) {
    return {...cursor, columnPath: parentPath};
  }

  return cursor;
}

function moveTableCursorDown(table: TableModel, cursor: TableCursor): TableCursor {
  if (cursor.columnPath) {
    return moveTableHeaderCursorDown(table, cursor);
  }

  return moveTableBodyCursorDown(table, cursor);
}

function moveTableBodyCursorDown(table: TableModel, cursor: TableBodyCursor): TableCursor {
  const parentRowPath &#x3D; getNextParentRowPath(table, cursor.rowPath);
  if (!parentRowPath) {
    return cursor;
  }

  const tail &#x3D; Array(cursor.rowPath.length - parentRowPath.length).fill(0);
  return {...cursor, rowPath: parentRowPath.concat(tail)};
}

function getNextParentRowPath(table: TableModel, rowPath: number[]): number[] {
  if (rowPath.length &#x3D;&#x3D;&#x3D; 0) {
    return null;
  }

  const {parentPath, rowIndex} &#x3D; splitRowPath(rowPath);

  if (!COLLAPSED_ROWS_INCLUDED || isTableRowExpanded(table.config.rows, parentPath)) {
    const nextRowPath &#x3D; parentPath.concat(rowIndex + 1);
    const row &#x3D; findTableRow(table.config.rows, nextRowPath);
    if (row) {
      return nextRowPath;
    }
  }

  return getNextParentRowPath(table, parentPath);
}

function moveTableHeaderCursorDown(table: TableModel, cursor: TableHeaderCursor): TableCursor {
  const part: TablePart &#x3D; table.parts[cursor.partIndex];
  const column: TableCompoundColumn &#x3D; findTableColumn(part.columns, cursor.columnPath) as TableCompoundColumn;

  const index &#x3D; column.children.findIndex(c &#x3D;&gt; c.type &#x3D;&#x3D;&#x3D; TableColumnType.COMPOUND);

  if (index &gt;&#x3D; 0) {
    return {...cursor, columnPath: cursor.columnPath.concat(index)};
  }

  return {
    tableId: cursor.tableId,
    partIndex: cursor.partIndex,
    columnIndex: cursor.columnPath[0], // TODO nested attributes
    rowPath: Array(cursor.partIndex / 2 + 1).fill(0), // TODO check link instance parts
  };
}

function moveTableCursorLeft(table: TableModel, cursor: TableCursor): TableCursor {
  if (cursor.columnPath) {
    return moveTableHeaderCursorLeft(table, cursor);
  }

  return moveTableBodyCursorLeft(table, cursor);
}

function moveTableBodyCursorLeft(table: TableModel, cursor: TableBodyCursor): TableCursor {
  if (cursor.columnIndex &gt; 0) {
    return moveTableBodyCursorLeftWithinPart(table, cursor);
  }

  return moveTableBodyCursorLeftToPreviousPart(table, cursor);
}

function moveTableBodyCursorLeftWithinPart(table: TableModel, cursor: TableBodyCursor): TableCursor {
  const {columns} &#x3D; table.parts[cursor.partIndex];
  const nextCursor &#x3D; {...cursor, columnIndex: cursor.columnIndex - 1};

  const nextColumn &#x3D; findTableColumnByIndex(columns, nextCursor.columnIndex);
  if (nextColumn &amp;&amp; nextColumn.type &#x3D;&#x3D;&#x3D; TableColumnType.HIDDEN) {
    return moveTableBodyCursorLeft(table, nextCursor);
  }

  return nextCursor;
}

function moveTableBodyCursorLeftToPreviousPart(table: TableModel, cursor: TableBodyCursor): TableCursor {
  if (cursor.partIndex &#x3D;&#x3D;&#x3D; 0) {
    return cursor;
  }

  const partIndex &#x3D; cursor.partIndex - 2; // TODO link instance parts
  const {columns} &#x3D; table.parts[partIndex];
  const nextCursor &#x3D; {
    ...cursor,
    partIndex,
    columnIndex: filterLeafColumns(columns).length - 1,
    rowPath: cursor.rowPath.slice(0, -1),
  };

  const nextColumn &#x3D; findTableColumnByIndex(columns, partIndex);
  if (nextColumn &amp;&amp; nextColumn.type &#x3D;&#x3D;&#x3D; TableColumnType.HIDDEN) {
    return moveTableBodyCursorLeft(table, nextCursor);
  }

  return nextCursor;
}

function moveTableHeaderCursorLeft(table: TableModel, cursor: TableHeaderCursor): TableCursor {
  const part &#x3D; table.parts[cursor.partIndex];

  const parent &#x3D; findLeftParentColumn(part.columns, cursor.columnPath);
  if (parent) {
    return findRightMostColumn(parent.column, {...cursor, columnPath: parent.path}, cursor.columnPath.length);
  }

  const previousPartCursor &#x3D; findLastColumnInPreviousPart(table, cursor.partIndex, cursor.columnPath.length);
  if (previousPartCursor) {
    return previousPartCursor;
  }

  return cursor;
}

function findLastColumnInPreviousPart(table: TableModel, partIndex: number, level: number): TableCursor {
  if (partIndex &#x3D;&#x3D;&#x3D; 0) {
    return null;
  }

  const part &#x3D; table.parts[partIndex - 1];
  if (part.columns.length) {
    const leftSibling &#x3D; findDirectLeftSibling(part.columns, [part.columns.length]);
    if (leftSibling) {
      return findRightMostColumn(
        leftSibling.column,
        {
          tableId: table.id,
          partIndex: part.index,
          columnPath: leftSibling.path,
        },
        level
      );
    }
  }

  return findLastColumnInPreviousPart(table, partIndex - 1, level);
}

function findLeftParentColumn(columns: TableColumn[], path: number[]): {column: TableCompoundColumn; path: number[]} {
  if (path.length &#x3D;&#x3D;&#x3D; 0) {
    return null;
  }

  const leftSibling &#x3D; findDirectLeftSibling(columns, path);
  if (leftSibling) {
    return leftSibling;
  }

  return findLeftParentColumn(columns, path.slice(0, path.length - 1));
}

function findDirectLeftSibling(columns: TableColumn[], path: number[]): {column: TableCompoundColumn; path: number[]} {
  const {parentPath, columnIndex} &#x3D; splitColumnPath(path);

  const siblingColumns &#x3D; getTableColumns(columns, parentPath);

  for (let index &#x3D; columnIndex - 1; index &gt;&#x3D; 0; index--) {
    const column &#x3D; siblingColumns[index];
    if (column.type &#x3D;&#x3D;&#x3D; TableColumnType.COMPOUND) {
      return {column: column as TableCompoundColumn, path: parentPath.concat(index)};
    }
  }

  return null;
}

function moveTableCursorRight(table: TableModel, cursor: TableCursor): TableCursor {
  if (cursor.columnPath) {
    return moveTableHeaderCursorRight(table, cursor);
  }

  return moveTableBodyCursorRight(table, cursor);
}

function moveTableBodyCursorRight(table: TableModel, cursor: TableBodyCursor): TableCursor {
  const {columns} &#x3D; table.parts[cursor.partIndex];
  const lastColumnIndex &#x3D; columns.length - 1;
  if (cursor.columnIndex &lt; lastColumnIndex) {
    return moveTableBodyCursorRightWithinPart(table, cursor);
  }

  return moveTableBodyCursorRightToNextPart(table, cursor);
}

function moveTableBodyCursorRightWithinPart(table: TableModel, cursor: TableBodyCursor) {
  const {columns} &#x3D; table.parts[cursor.partIndex];
  const nextCursor &#x3D; {...cursor, columnIndex: cursor.columnIndex + 1};

  const nextColumn &#x3D; findTableColumnByIndex(columns, nextCursor.columnIndex);
  if (nextColumn &amp;&amp; nextColumn.type &#x3D;&#x3D;&#x3D; TableColumnType.HIDDEN) {
    return moveTableBodyCursorRight(table, nextCursor);
  }

  return nextCursor;
}

function moveTableBodyCursorRightToNextPart(table: TableModel, cursor: TableBodyCursor) {
  const nextCursor &#x3D; {
    ...cursor,
    partIndex: cursor.partIndex + 2, // TODO link instance parts
    columnIndex: 0,
    rowPath: cursor.rowPath.concat(0),
  };

  if (table.parts.length - 1 &lt; nextCursor.partIndex) {
    return cursor;
  }

  const {columns} &#x3D; table.parts[nextCursor.partIndex];
  const nextColumn &#x3D; findTableColumnByIndex(columns, nextCursor.columnIndex);
  if (nextColumn &amp;&amp; nextColumn.type &#x3D;&#x3D;&#x3D; TableColumnType.HIDDEN) {
    return moveTableBodyCursorRight(table, nextCursor);
  }

  return nextCursor;
}

function moveTableHeaderCursorRight(table: TableModel, cursor: TableHeaderCursor): TableCursor {
  const part &#x3D; table.parts[cursor.partIndex];
  const nextParent &#x3D; findNextParentColumn(part.columns, cursor.columnPath);
  if (nextParent) {
    return findLeftMostColumn(nextParent.column, {...cursor, columnPath: nextParent.path}, cursor.columnPath.length);
  }

  const nextPart &#x3D; findNextPartWithColumns(table, cursor.partIndex);
  if (nextPart) {
    return findLeftMostColumn(
      nextPart.columns[0] as TableCompoundColumn,
      {...cursor, partIndex: nextPart.index, columnPath: [0]},
      cursor.columnPath.length
    );
  }

  return cursor;
}

function findNextPartWithColumns(table: TableModel, partIndex: number): TablePart {
  const part &#x3D; table.parts[partIndex + 1];
  if (!part) {
    return null;
  }

  if (!containCompoundColumn(part.columns)) {
    return findNextPartWithColumns(table, partIndex + 1);
  }

  return part;
}

function findNextParentColumn(columns: TableColumn[], path: number[]): {column: TableCompoundColumn; path: number[]} {
  if (columns.length &#x3D;&#x3D;&#x3D; 0 || path.length &#x3D;&#x3D;&#x3D; 0) {
    return null;
  }

  const nextPath &#x3D; [...path];
  nextPath[nextPath.length - 1] +&#x3D; 1;
  const nextColumn &#x3D; findTableColumn(columns, nextPath);
  if (nextColumn) {
    if (nextColumn.type &#x3D;&#x3D;&#x3D; TableColumnType.COMPOUND) {
      return {column: nextColumn as TableCompoundColumn, path: nextPath};
    }
    return findNextParentColumn(columns, nextPath);
  }

  return findNextParentColumn(columns, path.slice(0, path.length - 1));
}

function findRightMostColumn(column: TableCompoundColumn, cursor: TableCursor, level: number): TableCursor {
  return findSideMostColumn(column, cursor, level, true);
}

function findLeftMostColumn(column: TableCompoundColumn, cursor: TableCursor, level: number): TableCursor {
  return findSideMostColumn(column, cursor, level, false);
}

function findSideMostColumn(
  column: TableCompoundColumn,
  cursor: TableCursor,
  level: number,
  right: boolean
): TableCursor {
  if (!containCompoundColumn(column.children) || cursor.columnPath.length &#x3D;&#x3D;&#x3D; level) {
    return cursor;
  }

  const index &#x3D; right ? column.children.length - 1 : 0;
  const nextColumn &#x3D; column.children[index] as TableCompoundColumn; // TODO different types of columns
  const nextCursor &#x3D; {...cursor, columnPath: cursor.columnPath.concat(index)};
  return findSideMostColumn(nextColumn, nextCursor, level, right);
}

export function areTableCursorsEqual(cursor1: TableCursor, cursor2: TableCursor): boolean {
  if (cursor2.columnPath) {
    return areTableHeaderCursorsEqual(cursor1, cursor2);
  } else {
    return areTableBodyCursorsEqual(cursor1, cursor2);
  }
}

export function areTableHeaderCursorsEqual(cursor1: TableHeaderCursor, cursor2: TableHeaderCursor): boolean {
  return (
    cursor1 &amp;&amp;
    cursor2 &amp;&amp;
    cursor1.tableId &#x3D;&#x3D;&#x3D; cursor2.tableId &amp;&amp;
    cursor1.partIndex &#x3D;&#x3D;&#x3D; cursor2.partIndex &amp;&amp;
    deepArrayEquals(cursor1.columnPath, cursor2.columnPath)
  );
}

export function isTableColumnSubPath(parent: TableHeaderCursor, child: TableHeaderCursor): boolean {
  return (
    parent &amp;&amp;
    child &amp;&amp;
    parent.tableId &#x3D;&#x3D;&#x3D; child.tableId &amp;&amp;
    parent.partIndex &#x3D;&#x3D;&#x3D; child.partIndex &amp;&amp;
    arrayStartsWith(child.columnPath, parent.columnPath)
  );
}

export function areTableBodyCursorsEqual(cursor1: TableBodyCursor, cursor2: TableBodyCursor): boolean {
  return (
    cursor1 &amp;&amp;
    cursor2 &amp;&amp;
    cursor1.tableId &#x3D;&#x3D;&#x3D; cursor2.tableId &amp;&amp;
    cursor1.partIndex &#x3D;&#x3D;&#x3D; cursor2.partIndex &amp;&amp;
    cursor1.columnIndex &#x3D;&#x3D;&#x3D; cursor2.columnIndex &amp;&amp;
    deepArrayEquals(cursor1.rowPath, cursor2.rowPath)
  );
}

export function areTableRowCursorsEqual(cursor1: TableBodyCursor, cursor2: TableBodyCursor): boolean {
  return (
    cursor1 &amp;&amp;
    cursor2 &amp;&amp;
    cursor1.tableId &#x3D;&#x3D;&#x3D; cursor2.tableId &amp;&amp;
    cursor1.partIndex &#x3D;&#x3D;&#x3D; cursor2.partIndex &amp;&amp;
    deepArrayEquals(cursor1.rowPath, cursor2.rowPath)
  );
}

export function findTableColumnWithCursor(
  table: TableModel,
  partIndex: number,
  attributeName: string
): {column: TableCompoundColumn; cursor: TableHeaderCursor} {
  const columns &#x3D; table.parts[partIndex].columns;
  const startingCursor: TableHeaderCursor &#x3D; {tableId: table.id, partIndex, columnPath: []};
  const cursor &#x3D; getTableHeaderCursor(columns, attributeName, startingCursor);
  const column &#x3D; findTableColumn(columns, cursor.columnPath) as TableCompoundColumn;
  return {column, cursor};
}

function getTableHeaderCursor(
  columns: TableColumn[],
  attributeName: string,
  cursor: TableHeaderCursor
): TableHeaderCursor {
  return columns.reduce&lt;TableHeaderCursor&gt;((foundCursor, column, index) &#x3D;&gt; {
    if (foundCursor) {
      return foundCursor;
    }

    if (column.type !&#x3D;&#x3D; TableColumnType.COMPOUND) {
      return null;
    }

    const currentCursor &#x3D; {...cursor, columnPath: cursor.columnPath.concat(index)};

    const compoundColumn &#x3D; column as TableCompoundColumn;
    if (compoundColumn.parent.attributeName &#x3D;&#x3D;&#x3D; attributeName) {
      return currentCursor;
    }

    return getTableHeaderCursor(compoundColumn.children, attributeName, currentCursor);
  }, null);
}

export function getTableRowCursor(cursor: TableBodyCursor, indexDelta: number): TableBodyCursor {
  const {parentPath, rowIndex} &#x3D; splitRowPath(cursor.rowPath);
  const rowPath &#x3D; parentPath.concat(rowIndex + indexDelta);
  return {...cursor, rowPath};
}
</code></pre>
    </div>
</div>






                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'TableBodyCursor.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <script src="../js/menu-wc.js"></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
